很久之前，web开发者把自己的源代码直接部署到服务器的现象十分普遍，本地有10个文件，在服务器也会有10个文件。这种方式可以迅速的修改代码，也导致了查看源代码时代的到来，许多开发者把查看其它网站源代码当做一种学习方式。

现在所有web应用都依赖于自动化工具来处理文件。这种方式的优缺点如下：

优点：

- 本地代码不必和生产环境保持一致，所以本地任意组织代码结构。

- 静态分析可以自动发现错误。

- 在部署之前有多种方式处理js，比如文件的合并和压缩。

- 通过自动化测试可以很容易的发现问题。

- 轻松快速的重新执行常见任务。

缺点：

- 代码修改完无法刷新查看效果，必须在本地重新构建。

- 生产环境的代码和本地并不同，线上有问题很难定位bug。

# 文件和目录结构

## 最佳实践

1. 一个文件只包含一个对象。

特指每个js文件应该只包含一个js对象的代码，这种方式降低了多人协作开发时版本管理工具的冲突问题。

2. 相关的文件用目录分组

如果有多个相关的对象，就把这些文件都放到同一个目录下，例如一个模块由多个文件的代码组成，那么把这个模块包含的所有文件放在一个目录下就很有意义。

3. 保持第三方代码的独立

任何第三方代码都应该独立于项目，最好是直接从CDN来加载，或者单独放置在项目工程中的一个目录里。

4. 确定创建位置

网站应该是可配置的，使用编译后的目录而非源码目录。最好不要把编译后的代码提交到源码工程里。因为编译后的内容都是成型的组件，在最终被部署上线前，可能会有很多人多次编译创建。最终部署上线的应该是通过编译产生可最终发布的成品。

5. 保持测试代码的完整性

本地的测试代码也应该一并提交到项目工程中的一个位置。对于不同的服务器框架文件存放位置也不太相同，但js文件通常都会放到script或者javascript文件夹中。

## 基本结构

在存放js的文件下放置如下三个主要的目录是当下一种很流行的做法。

1. build

用来放置最终构建后的文件，理想情况这个目录不应该提交。

2. src

用来放置所有的源文件，包括用来进行文件分组的子目录。

3. test或tests

用来放置所有的测试文件，通常包含一些通src目录一一对应的目录或文件。

构建---校验---文件合并及加工---文件精简和压缩